import"./api-D1dCNkTz.js";import{E as e,c as t,d as n,f as r,l as i,r as a,s as o,u as s,v as c,x as l,y as u}from"./index-O2sFX3ad.js";import{n as d,t as f}from"./core-CLGk3ys-.js";import{n as p,r as m}from"./visit-CxIdNnhd.js";var h={class:`text-center pt-5 text-primary`},g=r({__name:`Invite`,setup(r){let g=a(),_=e(!1),v=e([]),y=e(``);if(g.query.c){let e=g.query.c.toString();p(e).then(e=>{v.value.push(e.inviter),v.value.push(e.app),y.value=`[${e.inviter}] 邀请您使用 [${d[e.app].title}]`,_.value=!0,S(e)}).catch(e=>{})}let b=e(!1),x=e(`/`);function S(e){f(`U_`+e.merchantId,Empty.relationApp).value.merchantId!==``&&(b.value=!0,x.value=d[e.app].home+`?m=`+e.merchantId)}function C(){if(!g.query.c)return!1;let e=g.query.c.toString();m(e)}return(e,r)=>{let a=u(`van-nav-bar`),d=u(`van-icon`),f=u(`van-highlight`),p=u(`van-button`),m=u(`van-notice-bar`),g=u(`van-cell-group`),S=u(`van-form`);return c(),i(`div`,null,[n(a,{title:`注册邀请`,class:`mb-4`}),o(`div`,h,[n(d,{name:`user`,size:`80`}),n(f,{keywords:v.value,"source-string":y.value,"highlight-class":`text-danger`},null,8,[`keywords`,`source-string`])]),n(S,{onSubmit:C,class:`mt-5`},{default:l(()=>[n(g,{inset:``},{default:l(()=>[b.value?(c(),t(p,{key:0,type:`success`,block:``,url:x.value},{default:l(()=>[...r[0]||=[s(` 已有账号,直接去使用 `,-1)]]),_:1},8,[`url`])):_.value?(c(),t(p,{key:2,type:`primary`,block:``,"native-type":`submit`},{default:l(()=>[...r[2]||=[s(` 接受邀请 `,-1)]]),_:1})):(c(),t(p,{key:1,type:`danger`,block:``,disabled:``},{default:l(()=>[...r[1]||=[s(` 邀请码已失效 `,-1)]]),_:1})),n(m,{color:`#1989fa`,background:`#ecf9ff`},{default:l(()=>[...r[3]||=[s(` 如需拒绝,直接关闭页面即可！ `,-1)]]),_:1})]),_:1})]),_:1})])}}});export{g as default};