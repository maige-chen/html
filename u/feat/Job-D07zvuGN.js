import{_ as j,R as m,W as w}from"./JobForm.vue_vue_type_script_setup_true_lang-TIQYUcgr.js";import{d as x,u as C,r as v,b as d,c as s,o as a,e as t,g as F,w as i,F as N,j as L,k as r,f as A,i as f,t as p,h as B,x as T}from"./main-tl-mSqkc.js";import"./PatternUtil-DSsBJKfN.js";const V={key:0},E={key:0},J={key:1},S={key:2},$={key:3},z=x({__name:"Job",setup(D){const o=C(),l=v(!1),c=v(!1);function y(){o.jobFinished||T(o.jobPn).then(_=>{o.jobList.push(..._.data),_.hasNext?o.jobPn+=1:o.jobFinished=!0})}return(_,n)=>{const u=d("van-icon"),k=d("van-nav-bar"),b=d("van-cell"),h=d("van-list");return a(),s("div",null,[t(k,{title:"成就库"},{right:i(()=>[t(u,{name:"flag-o",size:"24",onClick:n[0]||(n[0]=e=>l.value=!l.value)})]),_:1}),l.value?(a(),s("div",V,[t(j,{onSuccess:n[1]||(n[1]=e=>l.value=!1)})])):F("",!0),t(h,{loading:c.value,"onUpdate:loading":n[2]||(n[2]=e=>c.value=e),finished:r(o).jobFinished,"finished-text":"没有更多了",onLoad:y},{default:i(()=>[(a(!0),s(N,null,L(r(o).jobList,e=>(a(),A(b,{key:e.id,center:""},{title:i(()=>[t(u,{name:"flag-o"}),B("span",null,p(e.title),1)]),value:i(()=>[f("+"+p(e.award),1),t(u,{name:"cash-o"})]),label:i(()=>[n[3]||(n[3]=f(" 重复: ",-1)),e.repeatType===r(m).ONCE?(a(),s("span",E,"仅一次")):e.repeatType===r(m).DAILY?(a(),s("span",J,"每天")):Array.isArray(e.weekdays)?(a(),s("span",S,p(e.weekdays.map(g=>r(w)[g]).join(" ")),1)):(a(),s("span",$,p(e.weekdays),1))]),_:2},1024))),128))]),_:1},8,["loading","finished"])])}}});export{z as default};
