import{d as k,u as b,r as p,b as s,c as a,o as t,e as o,w as c,h as y,t as r,F as L,j as F,k as u,f as B,i as h,y as N}from"./main-BMNi4XeV.js";const j={key:0},w={key:1},C={key:2},V={key:3,class:"text-success"},S=k({__name:"Log",setup(A){const n=b(),_=p(!1);function g(){n.logFinished||N(n.jobPn).then(l=>{n.logList.push(...l.data),l.hasNext?n.jobPn+=1:n.logFinished=!0})}const f=p(0);return(l,d)=>{const i=s("van-icon"),m=s("van-nav-bar"),v=s("van-cell"),x=s("van-list");return t(),a("div",null,[o(m,{title:"成就币"},{right:c(()=>[o(i,{name:"cash-o",size:"18"}),y("span",null,r(f.value),1)]),_:1}),o(x,{loading:_.value,"onUpdate:loading":d[0]||(d[0]=e=>_.value=e),finished:u(n).logFinished,"finished-text":"没有更多了",onLoad:g},{default:c(()=>[(t(!0),a(L,null,F(u(n).logList,e=>(t(),B(v,{key:e.id,title:e.op+": "+e.title,label:e.updatedAt,center:"","title-style":"flex-basis:160px; flex-grow: 1 !important"},{value:c(()=>[e.state===-1?(t(),a("span",j,"不通过")):e.state===0?(t(),a("span",w,"待审核")):e.op==="兑换"?(t(),a("span",C,[h(" -"+r(e.coin),1),o(i,{name:"cash-o"})])):(t(),a("span",V,[h(" +"+r(e.coin),1),o(i,{name:"cash-o"})]))]),_:2},1032,["title","label"]))),128))]),_:1},8,["loading","finished"])])}}});export{S as default};
