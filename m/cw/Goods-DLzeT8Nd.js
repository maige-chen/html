import{d as B,l as S,G as y,E as _,b as i,c as q,e as U,f as t,g as F,i as r,k as m,H as V,q as G}from"./main-Daeym9Qn.js";const j=B({__name:"Goods",setup(T){const x=S();y.list().then(n=>{for(let e=0;e<n.length;e++){const a=n[e];a&&a.type==="CarwashFine"?(l.title=a.title,l.price=a.price):a&&a.type==="CarwashNormal"&&(o.title=a.title,o.price=a.price)}});function f(n){let e;if(n==="normal")e=o;else if(n==="fine")e=l;else return;y.add(e).then(a=>{console.info(a)})}const l=_({show:!1,title:"",price:"",type:"CarwashFine"});function g(){const n=l.price.replace(/(\.\d*?)0+$/,"$1");l.price=n}function k(n){l.price=l.price+n}function C(){l.price=l.price.slice(0,-1)}function N(){l.show=!1;const n=l.price.split(".").slice(0,2).join(".");l.price=Number(n).toFixed(2).toString()}const o=_({show:!1,title:"",price:"",type:"CarwashNormal"});function $(){o.show=!1;const n=o.price.split(".").slice(0,2).join(".");o.price=Number(n).toFixed(2).toString()}return(n,e)=>{const a=i("van-nav-bar"),u=i("van-col"),d=i("van-row"),p=i("van-field"),c=i("van-button"),v=i("van-cell-group"),b=i("van-form"),w=i("van-number-keyboard");return U(),q("div",null,[t(a,{title:"商品管理","left-arrow":"",onClickLeft:e[0]||(e[0]=s=>F(x).replace("/"))}),t(b,{onSubmit:e[5]||(e[5]=s=>f("fine"))},{default:r(()=>[t(d,{class:"mt-2"},{default:r(()=>[t(u,{span:"12",class:"ps-3 text-secondary"},{default:r(()=>[...e[11]||(e[11]=[m(" 精细洗车 ",-1)])]),_:1}),t(u,{span:"12",class:"pe-3 text-primary text-end",role:"button",onClick:e[1]||(e[1]=()=>{})})]),_:1}),t(v,{inset:"",class:"border mt-2"},{default:r(()=>[t(p,{modelValue:l.title,"onUpdate:modelValue":e[2]||(e[2]=s=>l.title=s),label:"标题:",style:{"--van-field-label-width":"2.5em"},rules:[{required:!0,message:"请填写标题"}]},null,8,["modelValue"]),t(d,null,{default:r(()=>[t(u,{span:"16"},{default:r(()=>[t(p,{modelValue:l.price,"onUpdate:modelValue":e[3]||(e[3]=s=>l.price=s),label:"价格:",readonly:"",clickable:"",onTouchstart:e[4]||(e[4]=V(s=>l.show=!0,["stop"])),style:{"--van-field-label-width":"2.5em"},rules:[{required:!0,message:"请填写价格"}]},null,8,["modelValue"])]),_:1}),t(u,{span:"8",class:"text-end pt-1 pe-1"},{default:r(()=>[t(c,{size:"small",type:"primary","native-type":"submit"},{default:r(()=>[...e[12]||(e[12]=[m("提交保存",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(w,{show:l.show,theme:"custom","extra-key":".","close-button-text":"完成",onShow:g,onInput:k,onDelete:C,onBlur:N},null,8,["show"]),t(b,{onSubmit:e[9]||(e[9]=s=>f("normal")),"show-error":!0},{default:r(()=>[e[14]||(e[14]=G("div",{class:"mt-2 ps-3 text-secondary"},"普通洗车",-1)),t(v,{inset:"",class:"border mt-2"},{default:r(()=>[t(p,{modelValue:o.title,"onUpdate:modelValue":e[6]||(e[6]=s=>o.title=s),label:"标题:",style:{"--van-field-label-width":"2.5em"},rules:[{required:!0,message:"请填写标题"}]},null,8,["modelValue"]),t(d,null,{default:r(()=>[t(u,{span:"16"},{default:r(()=>[t(p,{center:"",modelValue:o.price,"onUpdate:modelValue":e[7]||(e[7]=s=>o.price=s),label:"价格:",type:"number",onTouchstart:e[8]||(e[8]=V(s=>o.show=!0,["stop"])),style:{"--van-field-label-width":"2.5em"},rules:[{required:!0,message:"请填写价格"}]},null,8,["modelValue"])]),_:1}),t(u,{span:"8",class:"text-end pt-1 pe-1"},{default:r(()=>[t(c,{size:"small",type:"primary","native-type":"submit"},{default:r(()=>[...e[13]||(e[13]=[m("提交保存",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(w,{show:o.show,modelValue:o.price,"onUpdate:modelValue":e[10]||(e[10]=s=>o.price=s),theme:"custom","extra-key":".","close-button-text":"完成",onBlur:$},null,8,["show","modelValue"])])}}});export{j as default};
