import{O as w,a as $}from"./transact-CkTtIEAS.js";import{d as L,u as O,r as i,b as a,c as p,e as d,f as r,g as s,F as B,p as N,i as u,l as E,q as f,t as c,j as P}from"./main-CXNK52Lh.js";const A=L({__name:"Order",setup(S){const t=O(),v=i(!1);function _(){t.orderFinished||$.list(t.orderPn).then(o=>{t.orderList.push(...o.data),o.hasNext?t.orderPn+=1:t.orderFinished=!0})}const l=i(!1),m=i("");function g(o){t.orderIdx=o,m.value=`${o}`,l.value=!0}return(o,n)=>{const x=a("van-nav-bar"),h=a("van-tag"),k=a("van-cell"),y=a("van-list"),b=a("van-button"),C=a("van-overlay");return d(),p("div",null,[r(x,{title:"订单管理","left-arrow":"",onClickLeft:n[0]||(n[0]=e=>o.$router.replace("/"))}),r(y,{loading:v.value,"onUpdate:loading":n[1]||(n[1]=e=>v.value=e),finished:u(t).orderFinished,"finished-text":"没有更多了",onLoad:_},{default:s(()=>[(d(!0),p(B,null,N(u(t).orderList,(e,F)=>(d(),E(k,{key:e.id,icon:"records",value:u(w)[e.state],"is-link":"",onClick:V=>g(F),"title-style":"flex-basis:160px; flex-grow: 1 !important"},{title:s(()=>[f("span",null,c(e.id),1),r(h,{type:"primary",class:"ms-1"},{default:s(()=>[P(c(e.goodsFlag)+":¥"+c(e.goodsPrice.toFixed(2)),1)]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:1},8,["loading","finished"]),r(C,{show:l.value},{default:s(()=>[r(b,{icon:"cross",class:"border-0 bg-transparent text-light float-end",onClick:n[2]||(n[2]=e=>l.value=!1)}),n[3]||(n[3]=f("div",{id:"placeholder",style:{height:"50px"}},null,-1))]),_:1},8,["show"])])}}});export{A as default};
