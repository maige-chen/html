import{I as x}from"./iconify-BDBt4m31.js";import{d as S}from"./login-DglG_DbR.js";import{S as f}from"./Enums-Di78guLT.js";import{d as y,b as v,c as V,e as d,a as o,u as A,w as t,r as n,f as c,o as k,M as C}from"./index-C3McgTwY.js";import{s as q}from"./api-O4CYIcjd.js";const I={class:"text-center pt-4"},L={href:"",target:"_blank",style:{color:"orange"}},N={class:"d-none"},K=y({__name:"Login",setup(z){const l=v(""),r=v("");function g(){const s={usr:l.value,pwd:finger.hash(r.value),p:finger.print()};S(s).then(e=>{e.app==="CARWASH"&&(localStorage.setItem(LSK.home,"/m/"+f.CARWASH.home),localStorage.setItem(LSK.backurl,"/m/"+f.CARWASH.home)),C.cache(e,!0)}).catch(e=>q(e.msg))}return(s,e)=>{const m=n("van-field"),b=n("van-cell-group"),p=n("van-button"),i=n("van-col"),_=n("van-row"),h=n("van-form"),u=n("van-grid-item"),w=n("van-grid");return k(),V("div",null,[d("div",I,[d("a",L,[o(A(x),{icon:"hugeicons:orange",width:"80"})])]),o(h,{onSubmit:g},{default:t(()=>[o(b,{inset:"",class:"border mt-5"},{default:t(()=>[o(m,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),required:"",label:"账号",placeholder:"请输入用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),o(m,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a),required:"",label:"密码",type:"password",placeholder:"请输入密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),o(_,{gutter:"20",class:"p-3"},{default:t(()=>[o(i,{span:"12"},{default:t(()=>[o(p,{type:"default",size:"small",block:"",onClick:e[2]||(e[2]=a=>s.$router.push("/register"))},{default:t(()=>[...e[3]||(e[3]=[c("注册",-1)])]),_:1})]),_:1}),o(i,{span:"12"},{default:t(()=>[o(p,{type:"primary",size:"small",block:"","native-type":"submit"},{default:t(()=>[...e[4]||(e[4]=[c(" 登录 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),d("div",N,[o(_,{gutter:"20",class:"text-center"},{default:t(()=>[o(i,{span:"24"},{default:t(()=>[...e[5]||(e[5]=[c("其他登陆方式",-1)])]),_:1})]),_:1}),o(w,{direction:"horizontal","column-num":3,border:!1,class:"text-light",style:{"--van-grid-item-content-padding":"5px"}},{default:t(()=>[o(u,{icon:"wechat","icon-color":"#67c23a",text:"微信"}),o(u,{icon:"weibo","icon-color":"#ee0a24",text:"微博"}),o(u,{icon:"qq","icon-color":"rgb(64, 158, 255)",text:"QQ"})]),_:1})])])}}});export{K as default};
