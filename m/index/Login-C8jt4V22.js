import{I as y}from"./iconify-DVgz_ud-.js";import{d as V}from"./login-DZPmImDa.js";import{S as f}from"./Enums-Di78guLT.js";import{d as A,M as g,b as k,e as v,c as q,f as d,a as e,u as C,w as t,r as n,g as u,o as L}from"./index-CPpywXq0.js";import{s as I}from"./api-Cp7J2pUi.js";const N={class:"text-center pt-4"},R={href:"",target:"_blank",style:{color:"orange"}},z={class:"d-none"},Q=A({__name:"Login",setup(B){const b=k();g.isLoggedin()&&b.push("/");const a=v(""),l=v("");function h(){const c={usr:a.value,pwd:finger.hash(l.value),p:finger.print()};V(c).then(o=>{o.app==="CARWASH"&&(localStorage.setItem(LSK.home,"/m/"+f.CARWASH.home),localStorage.setItem(LSK.backurl,"/m/"+f.CARWASH.home)),g.cache(o,!0)}).catch(o=>I(o.msg))}return(c,o)=>{const m=n("van-field"),w=n("van-cell-group"),p=n("van-button"),s=n("van-col"),_=n("van-row"),x=n("van-form"),r=n("van-grid-item"),S=n("van-grid");return L(),q("div",null,[d("div",N,[d("a",R,[e(C(y),{icon:"hugeicons:orange",width:"80"})])]),e(x,{onSubmit:h},{default:t(()=>[e(w,{inset:"",class:"border mt-5"},{default:t(()=>[e(m,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=i=>a.value=i),required:"",label:"账号",placeholder:"请输入用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),e(m,{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=i=>l.value=i),required:"",label:"密码",type:"password",placeholder:"请输入密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),e(_,{gutter:"20",class:"p-3"},{default:t(()=>[e(s,{span:"12"},{default:t(()=>[e(p,{type:"default",size:"small",block:"",disabled:""},{default:t(()=>[...o[2]||(o[2]=[u(" 注册 ",-1)])]),_:1})]),_:1}),e(s,{span:"12"},{default:t(()=>[e(p,{type:"primary",size:"small",block:"","native-type":"submit"},{default:t(()=>[...o[3]||(o[3]=[u(" 登录 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),d("div",z,[e(_,{gutter:"20",class:"text-center"},{default:t(()=>[e(s,{span:"24"},{default:t(()=>[...o[4]||(o[4]=[u("其他登陆方式",-1)])]),_:1})]),_:1}),e(S,{direction:"horizontal","column-num":3,border:!1,class:"text-light",style:{"--van-grid-item-content-padding":"5px"}},{default:t(()=>[e(r,{icon:"wechat","icon-color":"#67c23a",text:"微信"}),e(r,{icon:"weibo","icon-color":"#ee0a24",text:"微博"}),e(r,{icon:"qq","icon-color":"rgb(64, 158, 255)",text:"QQ"})]),_:1})])])}}});export{Q as default};
