import{a as g}from"./axios-DrWYWy7P.js";import{d as w,b,e as V,c as y,f as x,a as t,w as l,r as o,o as k,g as h,A as q}from"./index-eYmFY_OQ.js";const i="/p/vite.svg",C=async r=>g.post("/p/login",r),A=w({__name:"Login.page",setup(r){const n=b(!1),a=V({usr:"",pwd:""});function p(){n.value=!0;const u={usr:a.usr,pwd:finger.hash(a.pwd),p:finger.print()};try{C(u).then(e=>{q.cache(e,!0)})}finally{n.value=!1}}return(u,e)=>{const d=o("van-field"),m=o("van-cell-group"),c=o("van-button"),_=o("van-col"),f=o("van-row"),v=o("van-form");return k(),y("div",null,[e[3]||(e[3]=x('<div class="text-center pt-4"><a href="" target="_blank"><img src="'+i+'" style="width:80px;" class="m-4" alt="Vite logo"></a><a href="" target="_blank"><img src="'+i+'" style="width:80px;" class="m-4" alt="Vue logo"></a></div>',1)),t(v,{onSubmit:p},{default:l(()=>[t(m,{inset:"",class:"border mt-5"},{default:l(()=>[t(d,{modelValue:a.usr,"onUpdate:modelValue":e[0]||(e[0]=s=>a.usr=s),required:"",label:"账号",placeholder:"请输入用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),t(d,{modelValue:a.pwd,"onUpdate:modelValue":e[1]||(e[1]=s=>a.pwd=s),required:"",label:"密码",type:"password",placeholder:"请输入密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),t(f,{gutter:"20",class:"p-3"},{default:l(()=>[t(_,{span:"24"},{default:l(()=>[t(c,{type:"primary",size:"small",block:"","native-type":"submit",loading:n.value},{default:l(()=>[...e[2]||(e[2]=[h(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})])}}});export{A as default};
